var search = require('../lib/search');
var Connecter = require('../lib/connect'); 

module.exports={speakByName,speakByIp};
function speakByName(text,name,lang,callback){

search.searchByName(name,function(ip){
var device = new Connecter(ip);

device.config({lang: lang});
device.readySpeaker(function(err,player){

device.speak(text,function(err,res){
if(callback){
callback(res,err);
}
});
});
});

}
function speakByIp(text,name,lang,callback){


var device = new Connecter(ip);

device.config({lang: lang});
device.readySpeaker(function(err,player){

device.speak(text,function(err,res){
if(callback){
callback(res,err);
}
});
});
}